angular.module("app").service("fileUpload",["$http","server",function(e,a){this.uploadFileToUrl=function(t,l,i,r){var n=new FormData;n.append("multipartFile",t),e({method:"POST",url:l,data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(e){var t=e.data.data,l=t.fileName,n=t.filePath,o=t.size;a.server().savefile({fileName:l,fileUrl:n,fileSize:o,dataId:i,createUser:r},function(e){!0===e.result?(console.log(e.message),alert("上传成功！")):alert(e.message)},function(e){})})}}]);