"use strict";angular.module("app").controller("surveyingInformationCtrl",["$http","$scope","server","$state","dict","$rootScope",function(e,a,s,t,r,i){function l(e,s,t,r){laydate.render({elem:"."+e,type:"date",value:(new Date).toLocaleDateString().replace(/\//g,"-"),format:"yyyy-MM-dd",show:!0,closeStop:"."+s,done:function(e){a.beginTime=e,t&&r(e)}})}function n(e){return a.dimArr=[],new Promise(function(t,r){s.server().zjtaskqueryRoomNamedo({param:e,projectId:a.projectId},function(e){e.result?(a.dimArr=e.data,t(e.data),a.$apply()):alert(e.message)})})}function u(e){return a.personarr=[],new Promise(function(t,r){s.server().zjtaskqueryUserNamedo({realname:e},function(e){e.result?(a.personarr=e.data,t(e.data),a.$apply()):alert(e.message)})})}function d(e,t){a.threeshowArr=[],f=[],a.bodyDataArr.forEach(function(e,s){a.bodyDataArr[s].clickClass=!1}),s.server().zjtaskqueryUserInfoByUserIddo({userId:s.server().userId,time:t},function(e){if(e.result){if(a.taskquery=e.data,a.taskquery){a.yearmonthdata=r.timeConverter3(a.taskquery[0].startTime,1);for(var s=0;s<a.taskquery.length;s++){a.taskquery[s].startTime=r.timeConverter3(a.taskquery[s].startTime),a.taskquery[s].endTime=r.timeConverter3(a.taskquery[s].endTime);for(var t=a.taskquery[s].startTime;t<a.taskquery[s].endTime+1;t++)a.threeshowArr.push(t)}for(var i=0;i<a.bodyDataArr.length;i++)for(var l=0;l<a.threeshowArr.length;l++)a.bodyDataArr[i].id===a.threeshowArr[l]&&(a.bodyDataArr[i].flagClass=!0)}a.$apply()}else alert(e.message)})}function o(e,a){return e-a}function v(){s.server().surveyingInformationById({roomId:a.roomId},function(e){!0===e.result?e.data&&(a.surveyInfo=e.data,a.singleList=e.data.singleList,a.surveyList=e.data.surveyList,a.housesImg=e.data.housesImg,a.$apply()):alert(e.message)},function(){alert("404请求失败")})}function m(){s.server().surveyingList({roomId:a.roomId,type:2},function(e){!0===e.result?(a.surveyingList=e.data,a.surveyingList.forEach(function(e,s){if("签约"!=a.surveyingList[s].name)return!1;a.surveyingList[s].sublevel&&a.surveyingList[s].sublevel.length>0&&a.surveyingList[s].sublevel.forEach(function(e,t){"未签约"==a.surveyingList[s].sublevel[t].name?a.surveyingList[s].sublevel[t].flag=!0:"已签约"==a.surveyingList[s].sublevel[t].name?a.surveyingList[s].sublevel[t].flag=!0:a.surveyingList[s].sublevel[t].flag=!1})}),a.$apply()):alert(e.message)})}function g(e){for(var s=0;s<a.multilevelList.length;s++)if(a.multilevelList[s].id==e)return s}a.no="暂无数据",a.projectId=t.params.projectid;t.params.roomId;a.roomId=t.params.roomId,a.hostname=s.server().imgHost;var c=s.server().userId,p=s.server().userId;a.attachments=[],a.list={roomId:t.params.roomId,projectId:t.params.roomId,createUser:s.server().userId,toUserId:s.server().userId,type:3,status:2},a.listtop={projectId:t.params.projectid,roomId:t.params.roomId,createUser:s.server().userId,imgHost:s.server().imgHost,questiontype:4,projectflag:2,reloadajax:1,locationflag:1},s.server().zjtaskinitOrderSignNodedo({},function(e){e.result?(a.initOrder=e.data,a.$apply()):alert(e.message)}),a.regCreatetaskist=function(e,s){a.add.parentOption=s.orderSignId,a.parentOption=s.name,a.add.childOption=e.orderSignId,a.childOption=e.name,a.registFlag=1,a.add.peopel="",a.peopelArr="",a.personArr="",a.add.person="",a.add.date="",a.add.things="",f=[],$(".addchildData1").val(""),$(".h-liebiaoone").dialog()},a.add={peopel:"",person:"",parentOption:"",childOption:"",date:"",things:""},a.peopelArr="",a.personArr="",a.dimArrFlag=!1,a.personarrFlag=!1,a.addflag={peopel:!1,person:!1,select:!1,things:!1},a.addfocus=function(e,s){s?u(e).then(function(e){e.length>0?a.personarrFlag=!0:a.personarrFlag=!1,a.addflag.person=!1,a.$apply()}):(n(e).then(function(e){e.length>0?a.dimArrFlag=!0:a.dimArrFlag=!1,a.addflag.peopel=!1,a.$apply()}),a.addflag.peopel=!1)},a.addblur=function(e,s){s?setTimeout(function(){a.personarrFlag=!1,a.add.person?a.addflag.person=!1:a.addflag.person=!0,a.$apply()},200):setTimeout(function(){a.dimArrFlag=!1,a.add.peopel?a.addflag.peopel=!1:a.addflag.peopel=!0,a.$apply()},200)},a.addchange=function(e,s){s?(u(e).then(function(e){e.length>0?a.personarrFlag=!0:a.personarrFlag=!1,a.$apply()}),a.addflag.person=!1):(n(e).then(function(e){e.length>0?a.dimArrFlag=!0:a.dimArrFlag=!1,a.$apply()}),a.addflag.peopel=!1)},a.alertliAdd=function(e,s){s?(a.add.person=a.personarr[e].realname,a.personArr=a.personarr[e].id):(a.add.peopel=a.dimArr[e].splitJointName,a.peopelArr=a.dimArr[e].id)},a.addsBlur=function(e){a.addflag.things=!e},a.adddate=function(e,s){l(e,s,2,function(e){a.add.date=e,d(a.add.person,e),a.$apply()})},a.bodyDataArr=[{id:8,name:"08:00",flagClass:!1,msg:"",clickClass:!1},{id:9,name:"09:00",flagClass:!1,msg:"",clickClass:!1},{id:10,name:"10:00",flagClass:!1,msg:"",clickClass:!1},{id:11,name:"11:00",flagClass:!1,msg:"",clickClass:!1},{id:12,name:"12:00",flagClass:!1,msg:"",clickClass:!1},{id:13,name:"13:00",flagClass:!1,msg:"",clickClass:!1},{id:14,name:"14:00",flagClass:!1,msg:"",clickClass:!1},{id:15,name:"15:00",flagClass:!1,msg:"",clickClass:!1},{id:16,name:"16:00",flagClass:!1,msg:"",clickClass:!1},{id:17,name:"17:00",flagClass:!1,msg:"",clickClass:!1},{id:18,name:"18:00",flagClass:!1,msg:"",clickClass:!1},{id:19,name:"19:00",flagClass:!1,msg:"",clickClass:!1},{id:20,name:"20:00",flagClass:!1,msg:"",clickClass:!1}];var f=[];Array.prototype.removeByValue=function(e){for(var a=0;a<this.length;a++)if(this[a]==e){this.splice(a,1);break}},a.datachoose=function(e){if(!1===a.bodyDataArr[e].flagClass&&(a.bodyDataArr[e].clickClass=!a.bodyDataArr[e].clickClass,!0===a.bodyDataArr[e].clickClass?f.push(e):f.removeByValue(e),f.length>=2)){f=f.sort(o);for(var s=f[0];s<f[f.length-1]+1;s++){if(!0===a.bodyDataArr[s].flagClass)return a.bodyDataArr[e].clickClass=!1,void f.pop();a.bodyDataArr[s].clickClass=!0}}},a.addsave=function(e,t){if(2===t){if(!a.add.person)return void(a.addflag.person=!0);if(a.addflag.person=!1,!a.add.date)return void alert("请选择指派时间！");if(a.addflag.date=!1,f.length<=0)return void alert("请选择可用时间段！");if(a.startDate=a.add.date+" "+a.bodyDataArr[f[0]].name,a.endDate=a.add.date+" "+a.bodyDataArr[f[f.length-1]].name,!a.add.things)return void(a.addflag.things=!0);a.addflag.things=!1,s.server().zjtaskupdateTaskdo({toUser:a.add.person,startDate:a.startDate,endDate:a.endDate,eventDesc:a.add.things,userId:a.personArr,id:a.rows[e].id},function(e){e.result?($(".h-liebiaoone").fadeOut(200),a.add.peopel="",a.peopelArr="",a.add.childOption="",a.add.parentOption="",a.personArr="",a.add.person="",a.add.date="",a.add.things="",f=[],alert("发布成功！",function(){m()}),a.$apply()):alert(e.message)})}else{if(!a.add.peopel)return void(a.addflag.peopel=!0);if(a.addflag.peopel=!1,!a.add.childOption)return void(a.addflag.select=!0);if(a.addflag.select=!1,!a.add.person)return void(a.addflag.person=!0);if(a.addflag.person=!1,!a.add.date)return void alert("请选择指派时间！");if(a.addflag.date=!1,f.length<=0)return void alert("请选择可用时间段！");if(a.startDate=a.add.date+" "+a.bodyDataArr[f[0]].name,a.endDate=a.add.date+" "+a.bodyDataArr[f[f.length-1]].name,!a.add.things)return void(a.addflag.things=!0);a.addflag.things=!1,s.server().zjtaskaddTask({roomId:a.peopelArr,processId:a.add.childOption,toUser:a.add.person,startDate:a.startDate,endDate:a.endDate,eventDesc:a.add.things,userId:a.personArr,createUser:p,eventNode:a.add.parentOption},function(e){e.result?(a.add.peopel="",a.peopelArr="",a.add.childOption="",a.add.parentOption="",a.personArr="",a.add.person="",a.add.date="",a.add.things="",f=[],alert("发布成功！",function(){m()}),$(".h-liebiaoone").fadeOut(200),a.$apply()):alert(e.message)})}},a.showTime=function(e){$(".hopbntshare2").dialog(),a.submitTime.id=e.id},a.showTimeSel=function(){laydate.render({elem:".childData1",format:"yyyy-MM-dd",show:!0,closeStop:".parentData1",done:function(e){a.submitTime.accomplishTime=e}})},a.submitTime=function(){s.server().lgcSetDataUpdateAccomplishTime({roomId:a.roomId,id:a.submitTime.id,accomplishTime:a.submitTime.accomplishTime,cause:a.submitTime.textareaText||"",userId:c},function(e){e.result?(m(),alert(e.message)):alert(e.message)})},v(),m(),a.saveflag={basearea:!1,areacount:!1,level:!1,nineabovearea:!1,self:!1,nrent:!1},a.blurs=function(e,s){"basearea"==s&&(a.saveflag.basearea=!e),"areacount"==s&&(a.saveflag.areacount=!e),"level"==s&&(a.saveflag.level=!e),"nineabovearea"==s&&(a.saveflag.nineabovearea=!e),"self"==s&&(a.saveflag.self=!e)},a.addannex=function(s,t,r){var i=new FormData,l=s[0];i.append("multipartFile",l),e({method:"POST",url:a.hostname+"attachment/fielUpload.do",data:i,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(e){a.data=e.data.data,99==t?(a.housesImgAdd=a.data.filePath,a.housesName=a.data.fileName):98==t?a.attachments.push({filePath:a.data.filePath,fileName:a.data.fileName}):a.multilevelList[g(r)].arr[t].imgUrl=a.data.filePath,a.size=a.data.size},function(e){alert(e)})},a.deleteFile=function(e){a.attachments.splice(e,1)},a.getsurveyinit=function(){s.server().surveyInit({roomId:a.roomId},function(e){if(!0===e.result){a.surveydata=e.data,a.multilevelList=a.surveydata.multilevelList,a.saveObjs=[{basearea:"",areacount:"",level:"",surveyCode:"",surveyBuilding:"",buildingStructure:"",housingPurposes:""}];for(var s=0;s<a.multilevelList.length;s++)a.multilevelList[s].dateclass=s,a.multilevelList[s].myselecttype="",a.multilevelList[s].rentstatus="",a.multilevelList[s].marea="",a.multilevelList[s].mstatus="",a.multilevelList[s].imgUrl="",a.multilevelList[s].imgUrlname="",a.multilevelList[s].checkfalsetime="",a.multilevelList[s].surveyCode="",a.multilevelList[s].structure="",a.multilevelList[s].purpose="",a.multilevelList[s].arr=[{myselecttype:"",rentstatus:"",marea:"",mstatus:"",imgUrl:"",imgUrlname:"",checkfalsetime:"",surveyCode:"",isPicOr:"",isAreaOr:"",structure:"",purpose:""}];a.notmultilevelList=a.surveydata.notSublevelList;for(var s=0;s<a.notmultilevelList.length;s++)a.notmultilevelList[s].nrent="";a.$apply(),console.log(a.saveObjs),$(".supperme").dialog(300)}else alert(e.message)})};var b={basearea:"",areacount:"",level:"",surveyCode:"",surveyBuilding:"",buildingStructure:"",housingPurposes:""};a.addsaveObjs=function(){a.saveObjs.length>2||a.saveObjs.push(Object.create(b))},a.jiansaveObjs=function(){a.saveObjs.length<2||a.saveObjs.pop()},a.isBlankflag=!1;var y=[],h=[];a.savesurveydata=function(){$(".saveDisabled").attr("disabled","disabled");for(var e=0;e<a.multilevelList.length;e++)for(var t=0;t<a.multilevelList[e].arr.length;t++)if(""!=a.multilevelList[e].arr[t].myselecttype){var r={compensateFlag:"",flag:"",area:"",rent:"",rank:"",imgUrl:"",transgressTime:"",surveyCode:"",structure:"",purpose:""};r.compensateFlag=a.multilevelList[e].id,r.flag=a.multilevelList[e].arr[t].myselecttype,r.area=a.multilevelList[e].arr[t].marea,r.rank=a.multilevelList[e].arr[t].mstatus,r.rent=a.multilevelList[e].arr[t].rentstatus,r.imgUrl=a.multilevelList[e].arr[t].imgUrl,r.transgressTime=a.multilevelList[e].arr[t].checkfalsetime,r.surveyCode=a.multilevelList[e].arr[t].surveyCode,r.structure=a.multilevelList[e].arr[t].structure,r.purpose=a.multilevelList[e].arr[t].purpose,h.push(r)}for(var e=0;e<a.notmultilevelList.length;e++){var i={flag:"",val:""};""!=a.notmultilevelList[e].nrent&&(i.flag=a.notmultilevelList[e].id,i.val=a.notmultilevelList[e].nrent?a.notmultilevelList[e].nrent:"",y.push(i))}s.server().saveserveylist({roomId:a.roomId,areaOfBase:a.saveObjs[0].basearea,grossArea:a.saveObjs[0].areacount,numberOfPlies:a.saveObjs[0].level,surveyCode:a.saveObjs[0].surveyCode,surveyBuilding:a.saveObjs[0].surveyBuilding,buildingStructure:a.saveObjs[0].buildingStructure,housingPurposes:a.saveObjs[0].housingPurposes,areaOfBase1:a.saveObjs[1]?a.saveObjs[1].basearea:"",grossArea1:a.saveObjs[1]?a.saveObjs[1].areacount:"",numberOfPlies1:a.saveObjs[1]?a.saveObjs[1].level:"",surveyCode1:a.saveObjs[1]?a.saveObjs[1].surveyCode:"",surveyBuilding1:a.saveObjs[1]?a.saveObjs[1].surveyBuilding:"",buildingStructure1:a.saveObjs[1]?a.saveObjs[1].buildingStructure:"",housingPurposes1:a.saveObjs[1]?a.saveObjs[1].housingPurposes:"",areaOfBase2:a.saveObjs[2]?a.saveObjs[2].basearea:"",grossArea2:a.saveObjs[2]?a.saveObjs[2].areacount:"",numberOfPlies2:a.saveObjs[2]?a.saveObjs[2].level:"",surveyCode2:a.saveObjs[2]?a.saveObjs[2].surveyCode:"",surveyBuilding2:a.saveObjs[2]?a.saveObjs[2].surveyBuilding:"",buildingStructure2:a.saveObjs[2]?a.saveObjs[2].buildingStructure:"",housingPurposes2:a.saveObjs[2]?a.saveObjs[2].housingPurposes:"",housesImg:a.housesImgAdd,createUser:c,attachmentJson:JSON.stringify(a.attachments),singleJson:JSON.stringify(y),chooseJson:JSON.stringify(h),isBlank:a.isBlankflag?1:0},function(e){!0===e.result?(console.log(e.message),alert(e.message,function(){v(),$(".supperme").hide(),h=[],y=[],$(".saveDisabled").removeAttr("disabled")}),a.$apply()):alert(e.message,function(){$(".saveDisabled").removeAttr("disabled"),h=[],y=[]})},function(e){alert(e.message,function(){$(".saveDisabled").removeAttr("disabled"),h=[],y=[]})})},a.getupdateinit=function(e){s.server().surveyupdateinit({id:e},function(e){if(!0===e.result){a.notSublevelList=e.data.notSublevelList,a.multilevelList=e.data.multilevelList,a.dataMap=e.data.dataMap,a.attachments=e.data.surveyAttachmentList,a.singleList=e.data.singleList,a.surveyList=e.data.surveyList,a.housesImgAdd=e.data.dataMap.housesImg,a.code=e.data.code,a.address=e.data.address,a.isBlankflag=1==a.dataMap.isBlank;for(var s=0;s<a.multilevelList.length;s++)a.multilevelList[s].dateclass=s,a.multilevelList[s].arr=[],a.multilevelList[s].isPicOr=1,a.multilevelList[s].isAreaOr=1;a.saveObjs=[{basearea:a.dataMap.areaOfBase,areacount:a.dataMap.grossArea,level:a.dataMap.numberOfPlies,surveyCode:a.dataMap.surveyCode,surveyBuilding:a.dataMap.surveyBuilding,buildingStructure:a.dataMap.buildingStructure,housingPurposes:a.dataMap.housingPurposes},{basearea:a.dataMap.areaOfBase1,areacount:a.dataMap.grossArea1,level:a.dataMap.numberOfPlies1,surveyCode:a.dataMap.surveyCode1,surveyBuilding:a.dataMap.surveyBuilding1,buildingStructure:a.dataMap.buildingStructure1,housingPurposes:a.dataMap.housingPurposes1},{basearea:a.dataMap.areaOfBase2,areacount:a.dataMap.grossArea2,level:a.dataMap.numberOfPlies2,surveyCode:a.dataMap.surveyCode2,surveyBuilding:a.dataMap.surveyBuilding2,buildingStructure:a.dataMap.buildingStructure2,housingPurposes:a.dataMap.housingPurposes2}];for(var t=0;t<a.saveObjs.length;t++){var r=0,i=0;for(var l in a.saveObjs[t])i++,a.saveObjs[t][l]||r++;r===i&&(a.saveObjs.splice(1,t),t=0)}if(a.saveObjs.length<=0&&a.saveObjs.push(Object.create(b)),0!=a.singleList.length)for(var n=0;n<a.notSublevelList.length;n++){a.notSublevelList[n].nrent="",a.notSublevelList[n].dateclass="";for(var u=0;u<a.singleList.length;u++)a.singleList[u].flag==a.notSublevelList[n].id&&(a.notSublevelList[n].nrent=a.singleList[u].val,a.notSublevelList[n].dateclass=n)}else for(var d=0;d<a.notSublevelList.length;d++)a.notSublevelList[d].nrent="",a.notSublevelList[d].dateclass="";for(var o=0;o<a.surveyList.length;o++)for(var v=0;v<a.multilevelList.length;v++)a.multilevelList[v].compensateName==a.surveyList[o].compensateName&&""!=a.surveyList[o].flag&&a.multilevelList[v].arr.push({myselecttype:a.surveyList[o].flag,rentstatus:a.surveyList[o].rent,marea:a.surveyList[o].area,mstatus:a.surveyList[o].rank,structure:a.surveyList[o].structure,purpose:a.surveyList[o].purpose,imgUrl:a.surveyList[o].imgUrl,imgUrlname:"",surveyCode:a.surveyList[o].surveyCode,edittime:a.surveyList[o].transgressTime,isPicOr:a.surveyList[o].imgUrl?2:1,isAreaOr:a.surveyList[o].area?2:1});a.$apply(),$(".update").dialog(300)}else alert(e.message)},function(e){alert(e.message)})},a.saveupdatesurvey=function(){$(".saveDisabled").attr("disabled","disabled");for(var e=0;e<a.multilevelList.length;e++)for(var t=0;t<a.multilevelList[e].arr.length;t++)if(""!=a.multilevelList[e].arr[t].myselecttype){var r={compensateFlag:"",flag:"",area:"",rent:"",rank:"",imgUrl:"",transgressTime:"",surveyCode:"",structure:"",purpose:""};r.compensateFlag=a.multilevelList[e].id,r.flag=a.multilevelList[e].arr[t].myselecttype,r.area=a.multilevelList[e].arr[t].marea,r.rank=a.multilevelList[e].arr[t].mstatus,r.rent=a.multilevelList[e].arr[t].rentstatus,r.structure=a.multilevelList[e].arr[t].structure,r.purpose=a.multilevelList[e].arr[t].purpose,r.imgUrl=a.multilevelList[e].arr[t].imgUrl,r.transgressTime=a.multilevelList[e].arr[t].edittime,r.surveyCode=a.multilevelList[e].arr[t].surveyCode,h.push(r)}for(var e=0;e<a.notSublevelList.length;e++){var i={flag:"",val:""};a.notSublevelList[e].nrent&&(i.flag=a.notSublevelList[e].id,i.val=a.notSublevelList[e].nrent,y.push(i))}s.server().saveupdatesurveylist({id:a.dataMap.id,roomId:a.roomId,areaOfBase:a.saveObjs[0].basearea,grossArea:a.saveObjs[0].areacount,numberOfPlies:a.saveObjs[0].level,surveyCode:a.saveObjs[0].surveyCode,surveyBuilding:a.saveObjs[0].surveyBuilding,buildingStructure:a.saveObjs[0].buildingStructure,housingPurposes:a.saveObjs[0].housingPurposes,areaOfBase1:a.saveObjs[1]?a.saveObjs[1].basearea:"",grossArea1:a.saveObjs[1]?a.saveObjs[1].areacount:"",numberOfPlies1:a.saveObjs[1]?a.saveObjs[1].level:"",surveyCode1:a.saveObjs[1]?a.saveObjs[1].surveyCode:"",surveyBuilding1:a.saveObjs[1]?a.saveObjs[1].surveyBuilding:"",buildingStructure1:a.saveObjs[1]?a.saveObjs[1].buildingStructure:"",housingPurposes1:a.saveObjs[1]?a.saveObjs[1].housingPurposes:"",areaOfBase2:a.saveObjs[2]?a.saveObjs[2].basearea:"",grossArea2:a.saveObjs[2]?a.saveObjs[2].areacount:"",numberOfPlies2:a.saveObjs[2]?a.saveObjs[2].level:"",surveyCode2:a.saveObjs[2]?a.saveObjs[2].surveyCode:"",surveyBuilding2:a.saveObjs[2]?a.saveObjs[2].surveyBuilding:"",buildingStructure2:a.saveObjs[2]?a.saveObjs[2].buildingStructure:"",housingPurposes2:a.saveObjs[2]?a.saveObjs[2].housingPurposes:"",housesImg:a.housesImgAdd,updateUser:c,attachmentJson:JSON.stringify(a.attachments),singleJson:JSON.stringify(y),chooseJson:JSON.stringify(h),remarks:a.remarks?a.remarks:"",isBlank:a.isBlankflag?1:0},function(e){!0===e.result?(console.log(e.message),alert(e.message,function(){v(),$(".update").hide(),$(".editCause").hide(),h=[],y=[],$(".saveDisabled").removeAttr("disabled")}),a.$apply()):alert(e.message,function(){$(".saveDisabled").removeAttr("disabled"),h=[],y=[]})},function(e){alert(e.message,function(){$(".saveDisabled").removeAttr("disabled"),h=[],y=[]})})},a.causeCancel=function(){a.remarks=""},a.cancel=function(){v(),$(".saveDisabled").removeAttr("disabled")},a.addTime=function(e,s,t,r){a.multilevelList.forEach(function(e,s){e.id==r&&(a.idx=s)}),laydate.render({elem:"."+e,type:"date",value:(new Date).toLocaleDateString().replace(/\//g,"-"),format:"yyyy-MM-dd",show:!0,closeStop:"."+s,done:function(e){a.multilevelList[a.idx].arr[t].checkfalsetime=e,console.log(a.multilevelList[a.idx].arr[t].checkfalsetime),a.multilevelList[a.idx].arr[t].edittime=e}})},a.zjmIndex="",a.picOrNor=function(e,s,t,r){a.multilevelList.forEach(function(e,s){e.id==t&&(a.idx=s)});for(var i in e)e[i].id==s&&(a.multilevelList[a.idx].arr[r].isPicOr=e[i].isPicture,a.multilevelList[a.idx].arr[r].isAreaOr=e[i].isArea,a.multilevelList[a.idx].arr[r].rentstatus="",a.multilevelList[a.idx].arr[r].marea="",a.multilevelList[a.idx].arr[r].mstatus="",a.multilevelList[a.idx].arr[r].imgUrl="",a.multilevelList[a.idx].arr[r].imgUrlname="",a.multilevelList[a.idx].arr[r].edittime="",a.multilevelList[a.idx].arr[r].structure="",a.multilevelList[a.idx].arr[r].purpose="");console.log(a.multilevelList[a.idx].arr[r].isPicOr)},a.changekey=function(e,s){a.multilevelList[e].detailsList.forEach(function(t,r){a.multilevelList[e].detailsList[r].id==s&&(a.isArea=a.multilevelList[e].detailsList[r].isArea,a.isPictures=a.multilevelList[e].detailsList[r].isPicture)})},a.addLevel=function(e){a.multilevelList[e].arr.push({rentstatus:"",marea:"",mstatus:"",imgUrl:"",imgUrlname:"",checkfalsetime:""})},a.deleteArr=function(e,s){var t="";a.multilevelList.forEach(function(a,s){a.id==e&&(t=s)}),a.multilevelList[t].arr.splice(s,1)}}]);