angular.module("app").controller("propertyDetailCtrl",["$http","$scope","server","$state","dict","$rootScope","$sce",function(e,r,t,o,a,s,n){function i(){t.server().informationDetail({typeValue:2,dataId:d},function(e){!0===e.result&&(r.data=e.data,r.$apply())},function(){})}r.roomId=o.params.roomId,r.projectId=o.params.projectid;var d=o.params.roomId;r.localhostimg=s.localhostimg,r.imgHost=t.server().imgHost;var c=t.server().userId;r.no="/",r.headImg=t.server().headImg,r.list={roomId:o.params.roomId,projectId:o.params.roomId,createUser:t.server().userId,toUserId:t.server().userId,type:3,status:2},r.listtop={projectId:o.params.projectid,roomId:o.params.roomId,createUser:t.server().userId,imgHost:t.server().imgHost,questiontype:4,projectflag:2,reloadajax:1,locationflag:1},r.myajax=function(){i()},t.server().basicCompensate({propertyId:d},function(e){!0===e.result?(r.compensates=e.data,r.compensateItemList=e.data.compensateItemList,r.builtInAreaList=e.data.builtInAreaList,r.$apply()):alert(e.message)}),t.server().signList({roomId:d},function(e){!0===e.result?(r.signList=e.data,r.$apply()):alert(e.message)},function(e){}),r.trustSrc=function(e){return n.trustAsResourceUrl(r.imgHost+e)},i(),r.daletetrack=function(e){var r=e;console.log(r),confirm("确认删除这条追踪信息?",function(){t.server().deltranckinfo({id:r,userId:c},function(e){alert(e.message,function(){i(),$(".delbox").addClass("disnone")})})})}}]);